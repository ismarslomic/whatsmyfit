# whatsmy.fit
[![Codacy Badge](https://api.codacy.com/project/badge/Grade/4a91e5037d9a4d9fb9300885665c3e57)](https://www.codacy.com/app/ismarslomic/whatsmyfit?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=ismarslomic/whatsmyfit&amp;utm_campaign=Badge_Grade)
[![Codacy Badge](https://api.codacy.com/project/badge/Coverage/4a91e5037d9a4d9fb9300885665c3e57)](https://www.codacy.com/app/ismarslomic/whatsmyfit?utm_source=github.com&utm_medium=referral&utm_content=ismarslomic/whatsmyfit&utm_campaign=Badge_Coverage)
[![Build Status](https://travis-ci.org/ismarslomic/whatsmyfit.svg?branch=master)](https://travis-ci.org/ismarslomic/whatsmyfit)

> Whats my fit APIs

## Prerequisites
- Node + NPM + Yarn (`brew install yarn`)
- TSLint + Typescript (`yarn global add tslint typescript`)

## Install It
```bash
$ yarn install
```

## Run It
#### Run in *development* mode:

```bash
$ yarn dev
```

#### Run in *production* mode:

```bash
$ yarn compile
$ yarn start
```

### Try It
* Point you're browser to [http://localhost:3000](http://localhost:3000)
* Read API documentation with Swagger UI [http://localhost:3000/api-explorer/](http://localhost:3000/api-explorer/)

## Linting
```bash
$ yarn pretest
```

## Test It

```bash
$ yarn test
```

## Environments
- `test` - runs locally or on Heroku CI when executing `yarn test`
- `development` - runs locally when executing `yarn dev`, url: http://localhost:3000
- `staging` - runs in `staging` phase of Heroku Pipeline when pull requests are merged to `master` branch, when executing `yarn start`, url: https://staging.whatsmy.fit
- `production` - runs in `production` phase of Heroku Pipeline when `manually` promoted from staging, when executing `yarn start`, url: https://whatsmy.fit

## Security
- TLS is enabled for `staging` and `production` environments by enabling TLS in Heroku. In addition ExpressJS server 
is configured to redirect all requests from HTTP to HTTPS, see [sslRedirect.ts](server/common/sslRedirect.ts), for these two environments

## Credits
This application was generated by use of [generator-express-no-stress-typescript](https://www.npmjs.com/package/generator-express-no-stress-typescript)